# آرایه ها در bash

اگر تا حالا برنامه نویسی کرده باشید و یکم آشنا باشید، میدونید آرایه ها چی هستن!

اما اگر برنامه نویس نیستید نگران نباشید، یه توضیح ساده دارم براتون. متغیر ها میتونستن یه مقدار بگیرن اما آرایه ها میتونن چندین مقدار رو داشته باشن. مثلا یه متغیر به نام myClass که توش اسم چندین دانش آموز وجود داره.

با استفاده از آرایه ها دیگه نیازی نیست برای هرکدوم از دانش آموزا بیایم و یه متغیر تعریف کنیم، همه رو میریزیم تو یه آرایه و خیلی راحت هم به تمامی اون ها دسترسی داریم.

شما برای اینکه بتونید از آرایه ها استفاده کنید باید از `()` استفاده کنید. این زیر مثالش هست:

```bash
my_array=("value 1" "value 2" "value 3" "value 4")
```

حالا برای اینکه دسترسی داشته باشیم به مقدار هایی که دادیم باید ایندکس عددی اون هارو داشته باشیم. یادتونه گفتم تو برنامه نویسی همه چی از 0 شروع میشه؟ دقیقا اینجا واضح میتونید ببینید!

> توجه داشته باشید که برای آرایه ها حتما نیازه از {} استفاده کنید و مثل متغیر های عادی اختیاری نیست

* آرایه بالا رو دیدید، حالا ما میخوایم مقدار دوم یعنی `value 2` رو بگیرم. ایندکس میشه شمارش از اول، اما همیشه باید از 0 شروع کنید! یعنی ایندکس 0 میشه value 2 و ایندکس 1 میشه value 2 همینجوری الی آخر. اینجا مثالشو داریم:

```bash
echo ${my_array[1]}  # print value 2
```

* حالا هم این زیر میخوایم `value 4` رو بگیریم پس باید از ایندکس 3 استفاده کنیم. همچنین توی آرایه ها میتونید از آخر به اول بیاید و ایندکس -1 میشه آخرین ایندکستون. باز مثال میزنم ببنیم:

```bash
echo ${my_array[3]}   # print value 4
echo ${my_array[-1]}  # print value 4
```

* همچنین میتونید از ایندکس `@` استفاده کنید تا همه آرایه رو براتون برگردونه. اینجوری:

```bash
echo ${my_array[@]}
# print value 1 value 2 value 3 value 4
```

* یه زمانی هست که میخواید ببینید آرایه تون چنتا عضو داره. اونوقت میاید و اول آرایه یه `#` اضافه میکنید و تعداد آرایه رو براتون برمیگردونه که برای آرایه ما 4 تاست:

```bash
echo ${#my_array[@]}
```

برای اینکه درک درستی ازش داشته باشید، حتما تمرین کنید و با مقدار های متفاوت تست کنید و ببینید خروجی به چه صورته.

## برش آرایه ها - Array Slicing

حقیقتا bash از برش آرایه ها پشتیبانی نمیکنه، اما میتونید با استفاده از روش های ترکیبی نتایج مشابه ایی رو دریافت کنید:

```bash
#!/bin/bash

array=("A" "B" "C" "D" "E")

# نمایش کل آرایه
echo "${array[@]}"  # Output: A B C D E

# نمایش یک المنت از آرایه
echo "${array[1]}"  # Output: B

# نمایش یه رنج از آرایه (نیاز به Bash 4.0+)
echo "${array[@]:1:3}"  # Output: B C D
# عدد 1 یعنی از ایندکس 1 شروع کن و عدد 3 یعنی تا ایندکس 3 ادامه بده

# نمایش از یک المنت به بعد
echo "${array[@]:3}"  # Output: D E
# عدد 3 یعنی از ایندکس 3 شروع کن و چون عدد بعدی براش نزاشتیم تا آخر آرایه ادامه میده
```

## برش رشته ها - String Slicing

داخل bash شما میتونید خیلی راحت رشته هارو هم برش بدید. مثلا یه رشته از کاربر میگیرید و میخواید فقط کارکتر دومش رو داشته باشید، یا هر رنج دیگه ایی. سینتکس کلیش اینجوریه:

```bash
${string:start:length}
```

بریم برای معنیشون:
- `start` ایندکس شروع رو مشخص میکنه (تو رشته ها هم همه چیز از 0 شروع میشه و ایندکس 0 میشه کارکتر اول)
- `length` حداکثر کارکترهای قابل دریافت رو مشخص میکنه

بریم تو کد ببنیم چی به چیه:

```bash
#!/bin/bash

text="ABCDE"
# خود رشته ها هم یه جور آرایه هستن

# جدا کردن ایندکس 0 تا حداکثر 2 کارکتر بعدش
echo "${text:0:2}"  # Output: AB

# جداکردن ایندکس 0 تا آخر رشته (چون حداکثری براش نزاشتم)
echo "${text:3}"    # Output: DE

# جداکردن ایندکس 1 تا حداکثر 3 تا کارکتر بعدش
echo "${text:1:3}"  # Output: BCD

# اگه حداکثر کارکتری که مشخص میکنید از طول خود رشته بیشتر بشه، فقط تا انتهای رشته رو براتون جدا میکنه (بعدش خب چیزی نداریم اصن)
echo "${text:3:3}"  # Output: DE (only 2 characters available)
```

توجه کنید! توی آرایه ها دومین عددی که میزاشتیم برای ایندکس بود. اما برای رشته ها دومین عددی که میزاریم برای حداکثر طوله، پس با همدیگه اشتباه نگیرید. مخصوصا اگه پایتون کار کرده باشید Bash با اون فرق داره!

یه مثال دیگه بزنیم بیشتر جا بیوفته (عین قرمه سبزی):

```bash
text="Hello, World!"

# جدا کردن ایندکس 7 تا حداکثر 5 تا کارکتر بعدش
echo "${text:7:5}"  # Output: World

# جدا کردن ایندکس 7 تا حداکثر 10 تا بعدش
# (چون اونقدر کارکتر بعدش نداریم، فقط 6 تا بعدی رو چاپ میکنه، اونم بدون هیچ ارروری)
echo "${text:7:10}"  # Output: World!
```

اینکه bash هیچ خدایی نمیده وقتی حداکثر کارکترمون از طول خود رشته بیشتره، یه سودی داره؛ اونم اینه که وقتی با رشته ایی کار میکنیم که طولش برامون مشخص نیست، اسکریپتمون به فنا نمیره و خیلی مفیده.